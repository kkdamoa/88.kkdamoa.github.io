<!-- 결과 보기 버튼 -->
<button id="viewResultsBtn">결과 보기</button>

<!-- 오버레이 및 광고 콘텐츠 -->
<div id="overlay" onclick="closePopup()" style="display: none;"></div>

<div id="adContainer" style="display: none;">
    <div class="ad-header">
        <span id="adCounter">광고가 5초 후에 닫힐 수 있습니다...</span>
        <button class="close-btn" onclick="closeAd()">&times;</button>
    </div>
    <h2>광고</h2>
    <div style="text-align:center; margin-bottom:10px;">
        <button onclick="closeAd()" style="border:none; background:none; font-size:20px; cursor:pointer;">&times;</button>
    </div>

    <!-- 새로운 광고 코드 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9374368296307755"
        crossorigin="anonymous"></script>
    <!-- k-test -->
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9374368296307755"
        data-ad-slot="3201247599"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<script>
    // '결과 보기' 버튼 클릭 시 팝업 표시
    document.getElementById('viewResultsBtn').onclick = function() {
        showPopup(); // 팝업을 표시하는 함수 호출
    };

    function showPopup() {
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('adContainer').style.display = 'block'; // 광고 컨테이너 표시
        document.body.style.overflow = 'hidden'; // 스크롤 비활성화

        let counter = 5;
        let adCounter = document.getElementById('adCounter');
        let countdown = setInterval(function() {
            counter--;
            adCounter.textContent = `광고가 ${counter}초 후에 닫힐 수 있습니다...`;
            if (counter <= 0) {
                clearInterval(countdown);
                adCounter.textContent = "광고를 닫을 수 있습니다.";
            }
        }, 1000);
    }

    function closePopup() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('adContainer').style.display = 'none';
        document.body.style.overflow = ''; // 스크롤 활성화
    }

    function closeAd() {
        document.getElementById('adContainer').style.display = 'none';
        document.body.style.overflow = '';
        alert('광고 시청이 완료되었습니다.');
    }
</script>
